import{r as c,R as O,a as S}from"./index-CsROpWct.js";import{l as f}from"./MapComponent-DK9prvzF.js";function N(o,n){const e=c.useRef(n);c.useEffect(function(){n!==e.current&&o.attributionControl!=null&&(e.current!=null&&o.attributionControl.removeAttribution(e.current),n!=null&&o.attributionControl.addAttribution(n)),e.current=n},[o,n])}function G(o,n,e){n.center!==e.center&&o.setLatLng(n.center),n.radius!=null&&n.radius!==e.radius&&o.setRadius(n.radius)}const X=1;function Y(o){return Object.freeze({__version:X,map:o})}function y(o,n){return Object.freeze({...o,...n})}const z=c.createContext(null),p=z.Provider;function L(){const o=c.useContext(z);if(o==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return o}function I(o){function n(e,t){const{instance:r,context:a}=o(e).current;return c.useImperativeHandle(t,()=>r),e.children==null?null:O.createElement(p,{value:a},e.children)}return c.forwardRef(n)}function K(o){function n(e,t){const[r,a]=c.useState(!1),{instance:u}=o(e,a).current;c.useImperativeHandle(t,()=>u),c.useEffect(function(){r&&u.update()},[u,r,e.children]);const l=u._contentNode;return l?S.createPortal(e.children,l):null}return c.forwardRef(n)}function V(o){function n(e,t){const{instance:r}=o(e).current;return c.useImperativeHandle(t,()=>r),null}return c.forwardRef(n)}function B(o){return function(e){const t=L(),r=o(e,t),{instance:a}=r.current,u=c.useRef(e.position),{position:l}=e;return c.useEffect(function(){return a.addTo(t.map),function(){a.remove()}},[t.map,a]),c.useEffect(function(){l!=null&&l!==u.current&&(a.setPosition(l),u.current=l)},[a,l]),r}}function M(o,n){const e=c.useRef();c.useEffect(function(){return n!=null&&o.instance.on(n),e.current=n,function(){e.current!=null&&o.instance.off(e.current),e.current=null}},[o,n])}function w(o,n){const e=o.pane??n.pane;return e?{...o,pane:e}:o}function Q(o,n){return function(t,r){const a=L(),u=o(w(t,a),a);return N(a.map,t.attribution),M(u.current,t.eventHandlers),n(u.current,a,t,r),u}}function ee(o){return o.split(" ").filter(Boolean)}function ne(o,n){ee(n).forEach(e=>{f.DomUtil.addClass(o,e)})}function s(o,n,e){return Object.freeze({instance:o,context:n,container:e})}function E(o,n){return n==null?function(t,r){const a=c.useRef();return a.current||(a.current=o(t,r)),a}:function(t,r){const a=c.useRef();a.current||(a.current=o(t,r));const u=c.useRef(t),{instance:l}=a.current;return c.useEffect(function(){u.current!==t&&(n(l,t,u.current),u.current=t)},[l,t,r]),a}}function A(o,n){c.useEffect(function(){return(n.layerContainer??n.map).addLayer(o.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(o.instance),n.map.removeLayer(o.instance)}},[n,o])}function T(o){return function(e){const t=L(),r=o(w(e,t),t);return N(t.map,e.attribution),M(r.current,e.eventHandlers),A(r.current,t),r}}function te(o,n){const e=c.useRef();c.useEffect(function(){if(n.pathOptions!==e.current){const r=n.pathOptions??{};o.instance.setStyle(r),e.current=r}},[o,n])}function oe(o){return function(e){const t=L(),r=o(w(e,t),t);return M(r.current,e.eventHandlers),A(r.current,t),te(r.current,e),r}}function H(o){function n(r,a){return s(o(r),a)}const e=E(n),t=B(e);return V(t)}function h(o,n){const e=E(o,n),t=T(e);return I(t)}function j(o,n){const e=E(o),t=Q(e,n);return K(t)}function g(o,n){const e=E(o,n),t=oe(e);return I(t)}function D(o,n){const e=E(o,n),t=T(e);return V(t)}function Z(o,n,e){const{opacity:t,zIndex:r}=n;t!=null&&t!==e.opacity&&o.setOpacity(t),r!=null&&r!==e.zIndex&&o.setZIndex(r)}function x(o,n,e){n.bounds instanceof f.LatLngBounds&&n.bounds!==e.bounds&&o.setBounds(n.bounds),n.opacity!=null&&n.opacity!==e.opacity&&o.setOpacity(n.opacity),n.zIndex!=null&&n.zIndex!==e.zIndex&&o.setZIndex(n.zIndex)}function J(){return L().map}function Ce(o,n){const e=J();return c.useEffect(function(){return e.on(o,n),function(){e.off(o,n)}},[e,o,n]),e}function ve(o){const n=J();return c.useEffect(function(){return n.on(o),function(){n.off(o)}},[n,o]),n}const Le=H(function(n){return new f.Control.Attribution(n)}),Ee=g(function({center:n,children:e,...t},r){const a=new f.Circle(n,t);return s(a,y(r,{overlayContainer:a}))},G),ge=g(function({center:n,children:e,...t},r){const a=new f.CircleMarker(n,t);return s(a,y(r,{overlayContainer:a}))},G),Oe=g(function({children:n,...e},t){const r=new f.FeatureGroup([],e);return s(r,y(t,{layerContainer:r,overlayContainer:r}))}),we=g(function({data:n,...e},t){const r=new f.GeoJSON(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),be=h(function({bounds:n,url:e,...t},r){const a=new f.ImageOverlay(e,n,t);return s(a,y(r,{overlayContainer:a}))},function(n,e,t){if(x(n,e,t),e.bounds!==t.bounds){const r=e.bounds instanceof f.LatLngBounds?e.bounds:new f.LatLngBounds(e.bounds);n.setBounds(r)}e.url!==t.url&&n.setUrl(e.url)}),pe=h(function({children:n,...e},t){const r=new f.LayerGroup([],e);return s(r,y(t,{layerContainer:r}))}),re=E(function({children:n,...e},t){const r=new f.Control.Layers(void 0,void 0,e);return s(r,y(t,{layersControl:r}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),ae=B(re),U=I(ae);function F(o){return function(e){const t=L(),r=c.useRef(e),[a,u]=c.useState(null),{layersControl:l,map:i}=t,d=c.useCallback(v=>{l!=null&&(r.current.checked&&i.addLayer(v),o(l,v,r.current.name),u(v))},[l,i]),m=c.useCallback(v=>{l==null||l.removeLayer(v),u(null)},[l]),P=c.useMemo(()=>y(t,{layerContainer:{addLayer:d,removeLayer:m}}),[t,d,m]);return c.useEffect(()=>{a!==null&&r.current!==e&&(e.checked===!0&&(r.current.checked==null||r.current.checked===!1)?i.addLayer(a):r.current.checked===!0&&(e.checked==null||e.checked===!1)&&i.removeLayer(a),r.current=e)}),e.children?O.createElement(p,{value:P},e.children):null}}U.BaseLayer=F(function(n,e,t){n.addBaseLayer(e,t)});U.Overlay=F(function(n,e,t){n.addOverlay(e,t)});function R(){return R=Object.assign||function(o){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}return o},R.apply(this,arguments)}function ue({bounds:o,boundsOptions:n,center:e,children:t,className:r,id:a,placeholder:u,style:l,whenReady:i,zoom:d,...m},P){const[v]=c.useState({className:r,id:a,style:l}),[C,W]=c.useState(null);c.useImperativeHandle(P,()=>(C==null?void 0:C.map)??null,[C]);const $=c.useCallback(_=>{if(_!==null&&C===null){const b=new f.Map(_,m);e!=null&&d!=null?b.setView(e,d):o!=null&&b.fitBounds(o,n),i!=null&&b.whenReady(i),W(Y(b))}},[]);c.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const q=C?O.createElement(p,{value:C},t):u??null;return O.createElement("div",R({},v,{ref:$}),q)}const he=c.forwardRef(ue),Pe=h(function({position:n,...e},t){const r=new f.Marker(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),ce=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function k(o,n){const{[n]:e,...t}=o;return t}function le(o,n,e){if(ce.indexOf(o)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${o}`);if(e.map.getPane(o)!=null)throw new Error(`A pane with this name already exists: ${o}`);const t=n.pane??e.pane,r=t?e.map.getPane(t):void 0,a=e.map.createPane(o,r);return n.className!=null&&ne(a,n.className),n.style!=null&&Object.keys(n.style).forEach(u=>{a.style[u]=n.style[u]}),a}function ie(o,n){const[e]=c.useState(o.name),[t,r]=c.useState(null);c.useImperativeHandle(n,()=>t,[t]);const a=L(),u=c.useMemo(()=>({...a,pane:e}),[a]);return c.useEffect(()=>(r(le(e,o,a)),function(){var d;const i=a.map.getPane(e);(d=i==null?void 0:i.remove)==null||d.call(i),a.map._panes!=null&&(a.map._panes=k(a.map._panes,e),a.map._paneRenderers=k(a.map._paneRenderers,e))}),[]),o.children!=null&&t!=null?S.createPortal(O.createElement(p,{value:u},o.children),t):null}const Re=c.forwardRef(ie),Se=g(function({positions:n,...e},t){const r=new f.Polygon(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Ie=g(function({positions:n,...e},t){const r=new f.Polyline(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Me=j(function(n,e){const t=new f.Popup(n,e.overlayContainer);return s(t,e)},function(n,e,{position:t},r){c.useEffect(function(){const{instance:u}=n;function l(d){d.popup===u&&(u.update(),r(!0))}function i(d){d.popup===u&&r(!1)}return e.map.on({popupopen:l,popupclose:i}),e.overlayContainer==null?(t!=null&&u.setLatLng(t),u.openOn(e.map)):e.overlayContainer.bindPopup(u),function(){var m;e.map.off({popupopen:l,popupclose:i}),(m=e.overlayContainer)==null||m.unbindPopup(),e.map.removeLayer(u)}},[n,e,r,t])}),Te=g(function({bounds:n,...e},t){const r=new f.Rectangle(n,e);return s(r,y(t,{overlayContainer:r}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),He=H(function(n){return new f.Control.Scale(n)}),fe=E(function(n,e){const{attributes:t,bounds:r,...a}=n,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null&&Object.keys(t).forEach(i=>{u.setAttribute(i,t[i])});const l=new f.SVGOverlay(u,r,a);return s(l,e,u)},x),se=T(fe);function de({children:o,...n},e){const{instance:t,container:r}=se(n).current;return c.useImperativeHandle(e,()=>t),r==null||o==null?null:S.createPortal(o,r)}const xe=c.forwardRef(de),_e=D(function({url:n,...e},t){const r=new f.TileLayer(n,w(e,t));return s(r,t)},function(n,e,t){Z(n,e,t);const{url:r}=e;r!=null&&r!==t.url&&n.setUrl(r)}),ke=j(function(n,e){const t=new f.Tooltip(n,e.overlayContainer);return s(t,e)},function(n,e,{position:t},r){c.useEffect(function(){const u=e.overlayContainer;if(u==null)return;const{instance:l}=n,i=m=>{m.tooltip===l&&(t!=null&&l.setLatLng(t),l.update(),r(!0))},d=m=>{m.tooltip===l&&r(!1)};return u.on({tooltipopen:i,tooltipclose:d}),u.bindTooltip(l),function(){u.off({tooltipopen:i,tooltipclose:d}),u._map!=null&&u.unbindTooltip()}},[n,e,r,t])}),Ne=h(function({bounds:n,url:e,...t},r){var u;const a=new f.VideoOverlay(e,n,t);return t.play===!0&&((u=a.getElement())==null||u.play()),s(a,y(r,{overlayContainer:a}))},function(n,e,t){x(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const r=n.getElement();r!=null&&(e.play===!0&&!t.play?r.play():!e.play&&t.play===!0&&r.pause())}),Ge=D(function({eventHandlers:n,params:e={},url:t,...r},a){const u=new f.TileLayer.WMS(t,{...e,...w(r,a)});return s(u,a)},function(n,e,t){Z(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),ze=H(function(n){return new f.Control.Zoom(n)});export{Le as AttributionControl,Ee as Circle,ge as CircleMarker,Oe as FeatureGroup,we as GeoJSON,be as ImageOverlay,pe as LayerGroup,U as LayersControl,he as MapContainer,Pe as Marker,Re as Pane,Se as Polygon,Ie as Polyline,Me as Popup,Te as Rectangle,xe as SVGOverlay,He as ScaleControl,_e as TileLayer,ke as Tooltip,Ne as VideoOverlay,Ge as WMSTileLayer,ze as ZoomControl,J as useMap,Ce as useMapEvent,ve as useMapEvents};
